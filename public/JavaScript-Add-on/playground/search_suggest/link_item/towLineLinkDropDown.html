<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Cascade Drop Down</title>
    <style type="text/css">
        .cascade_drop_down {
            width: 200px;
        }
    </style>
    <script type="text/javascript" src="../../../plugins/jQuery/jquery.min.js"></script>
    <script type="text/javascript">
        $(document).ready(function () {

            $(".cascade_drop_down").change(
                function () {
                    var name = $(this).attr("name") + "_next";
                    var next = $("#" + name).val();
                    if (next == null || next == '') {
                        return;
                    }

                    $("#" + next).empty();

                    $.ajax({
                        type: 'post',
                        url: $(this).val() + '.txt',
                        data: 'name=' + name + '&val=' + $(this).val(),
                        dataType: 'text',
                        success: function (msg) {
                            ops = msg.split("\n");
                            for (i = 0; i < ops.length; i++) {
                                $("#" + next).append(ops[i]);
                            }
                        },
                        error: function () {
                            alert("failed.");
                        }
                    });
                }
            )

        });

    </script>
</head>
<!--每增加一个下拉列表框只需要2行即可，1行用来声明下拉列表框，另一行用来定义下一个响应的下拉列表框ID。-->
<body>
<div>
    <input type="hidden" id="province_next" name="province_next" value="city">
    <input type="hidden" id="city_next" name="city_next" value="">

    <select id="province" name="province" class="cascade_drop_down">
        <option value="beijing">北京</option>
        <option value="tianjin">天津</option>
        <option value="shanghai">上海</option>
        <option value="chongqing">重庆</option>
        <option value="heilongjiang">黑龙江</option>
        <option value="jilin">吉林</option>
        <option value="liaoning">辽宁</option>
    </select>

    <select id="city" name="city" class="cascade_drop_down">
        <option value='1'>朝阳</option>
        <option value='2'>海淀</option>
        <option value='3'>东城</option>
        <option value='4'>西城</option>
        <option value='5'>石景山</option>
        <option value='6'>大兴</option>
        <option value='7'>丰台</option>
        <option value='8'>通州</option>
        <option value='9'>房山</option>
        <option value='10'>密云</option>
        <option value='11'>怀柔</option>
        <option value='12'>平谷</option>
        <option value='13'>昌平</option>
        <option value='14'>延庆</option>
        <option value='15'>顺义</option>
    </select>
</div>

<div>
    <input type="hidden" id="brand_next" name="brand_next" value="category">
    <input type="hidden" id="category_next" name="category_next" value="type">
    <input type="hidden" id="type_next" name="type_next" value="series">
    <input type="hidden" id="series_next" name="series_next" value="">

    <select id="brand" name="brand" class="cascade_drop_down">
        <option value="canon">佳能</option>
        <option value="sony">索尼</option>
        <option value="panasonic">松下</option>
    </select>

    <select id="category" name="category" class="cascade_drop_down">
    </select>


    <select id="type" name="type" class="cascade_drop_down">
    </select>


    <select id="series" name="series" class="cascade_drop_down">
    </select>

</div>
</body>
</html>
